package com.myfatoorahreactnative.utils

import com.facebook.react.bridge.ReadableMap
import com.google.gson.GsonBuilder

fun <T> handleReadableMap(requestMap: ReadableMap, classOfT: Class<T>): T {
  var requestJson = requestMap.toString()
  if (requestJson.contains("{ NativeMap: ")) {
    requestJson = requestJson.replace("{ NativeMap: ", "")
    requestJson = requestJson.substring(0, requestJson.length - 1)
  }
  val gson = GsonBuilder().registerTypeAdapter(classOfT, MFJsonAdapterHelper<T>()).create()
  return gson.fromJson(requestJson, classOfT)
}

fun convertJsonStringToLowercase(jsonString: String): String {
  val jsonHelper = MFJsonAdapterHelper<String>()
  return jsonHelper.convertJsonStringToLowercase(jsonString)
}

fun convertJsonStringToUppercase(jsonString: String): String {
  val jsonHelper = MFJsonAdapterHelper<String>()
  return jsonHelper.convertJsonStringToUppercase(jsonString)
}
